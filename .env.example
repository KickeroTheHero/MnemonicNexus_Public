# MNX Alpha S0 Migration - Environment Configuration Template
# Copy this file to .env and customize for your environment

# ========================================================================
# Core Service Configuration
# ========================================================================

# Gateway URL (S0 hardening default: port 8081)
MNX_GATEWAY_URL=http://localhost:8081

# Database connection
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/nexus

# ========================================================================
# LM Studio Configuration
# ========================================================================

# LM Studio server endpoint
LM_STUDIO_BASE=http://localhost:1234
LMSTUDIO_ENDPOINT=http://localhost:1234/v1/completions

# Model configuration
LM_STUDIO_MODEL_ID=Mixtral-8x7B-Instruct-v0.1-GGUF/mixtral-8x7b-instruct-v0.1.Q4_K_M.gguf
LMSTUDIO_MODEL=lmstudio-community/Meta-Llama-3.1-8B-Instruct-GGUF

# API Key (typically empty for LM Studio)
LMSTUDIO_API_KEY=

# ========================================================================
# Tool Bus Configuration (S0 Hardening)
# ========================================================================

# Timeout and capacity limits
TOOL_TIMEOUT_MS=8000
TOOL_ROW_CAP=200

# Web search configuration
WEB_SEARCH_ENGINE=duckduckgo

# ========================================================================
# Fusion & RAG Configuration (Optional, disabled by default)
# ========================================================================

# Fusion search ranking
FUSION_ENABLE=false
FUSION_RANK_VERSION=null
FUSION_WEIGHTS={"mnx_rel":0.5,"mnx_vec":0.5}

# RAG/Peer integration (disabled by default per S0 requirements)
RAG_ENABLE=0
RAG_BASE_URL=http://localhost:7070
PEER_DIRS=

# ========================================================================
# Determinism & Tracing (S0 Requirements)
# ========================================================================

# Random seed for deterministic reproduction
rng_seed=12345

# Version stamps for hash stability
prompt_version=pv1
policy_version=cv1
controller_version=1.0.0

# Correlation tracking
CORRELATION_ID_HEADER=X-Correlation-ID
DECISION_SEED_OVERRIDE=

# ========================================================================
# Service Configuration
# ========================================================================

# Controller service
CONTROLLER_PORT=8000
CONTROLLER_HOST=0.0.0.0

# Logging
LOG_LEVEL=INFO

# Gateway integration
GATEWAY_ENDPOINT=http://localhost:8081
GATEWAY_TIMEOUT_MS=5000

# ========================================================================
# Development & Testing
# ========================================================================

# Environment mode
ENVIRONMENT=development

# Testing configuration
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/nexus_test
